@model IDSM.Model.ViewModels.TeamOverViewViewModel
@using IDSM.Helpers

<h2>List of Footballers</h2>
@{
        // don't know why but this doesn't work (loads data into whole page rather than the div)
        //using (Html.BeginForm("TeamOverView", "ViewPlayers", FormMethod.Post, new { id = "filterPlayers" }))
        using (Ajax.BeginForm("TeamOverView", "ViewPlayers", new AjaxOptions
        {
            HttpMethod = "POST",
            UpdateTargetId = "playerlist",
            InsertionMode = InsertionMode.Replace
            
        }))
       {
                    <p> 
                        @Html.DropDownListFor(x => x.Clubs, new SelectList(Model.Clubs, "Value", "Text"), "All")
                        Name: @Html.TextBox("searchString") 
                        <input type="hidden" name="userTeamID" value="@Model.UserTeamId" />
                        <input type="submit" value="Filter" /></p>
       }
               
    }

        
@*<script type="text/javascript">
    var returnSelectTeam = function () {
        debugger;
        $.ajax({
            type: 'POST',
            url: '/ViewPlayers/TeamOverView',
            data: $("#filterPlayers").serialize(),
            success: function (data) {
                $('#teamtest').empty();
                $('#teamtest').append(data);
            }
        });
    };

    //$('#filterPlayers').submit(function () {
    //    returnSelectTeam();
    //});
</script>*@
